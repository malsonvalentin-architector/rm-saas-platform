@echo off
chcp 65001 >nul
color 0B
cls
echo.
echo ╔══════════════════════════════════════════════════════════╗
echo ║                                                          ║
echo ║         🚀 ЗАПУСК СИСТЕМЫ МОНИТОРИНГА АСУТП 🚀           ║
echo ║                                                          ║
echo ╚══════════════════════════════════════════════════════════╝
echo.
echo 📡 Запуск веб-сервера...
echo.

REM Убить предыдущие процессы если были
taskkill /F /IM python.exe /FI "WINDOWTITLE eq Django*" >nul 2>&1

REM Запуск Django сервера
echo ⏳ Подождите 3 секунды...
echo.

start /B python manage.py runserver 127.0.0.1:8000 >nul 2>&1

REM Ждем пока сервер запустится
timeout /t 3 /nobreak >nul

REM Открываем браузер
echo 🌐 Открываем браузер...
start http://127.0.0.1:8000

echo.
echo ╔══════════════════════════════════════════════════════════╗
echo ║                                                          ║
echo ║              ✅ ПРОГРАММА ЗАПУЩЕНА! ✅                   ║
echo ║                                                          ║
echo ║  Браузер открылся автоматически                         ║
echo ║  Адрес: http://127.0.0.1:8000                           ║
echo ║                                                          ║
echo ║  🔐 Войдите используя email и пароль администратора     ║
echo ║                                                          ║
echo ║  ⚠️  НЕ ЗАКРЫВАЙТЕ ЭТО ОКНО пока работаете с программой ║
echo ║                                                          ║
echo ║  Для остановки программы:                               ║
echo ║  - Закройте это окно                                    ║
echo ║  - Или нажмите Ctrl+C                                   ║
echo ║                                                          ║
echo ╚══════════════════════════════════════════════════════════╝
echo.
echo 📊 Логи сервера:
echo ────────────────────────────────────────────────────────────
echo.

REM Показываем логи сервера
python manage.py runserver 127.0.0.1:8000
